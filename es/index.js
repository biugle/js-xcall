var a=function(){function a(){this._callBackMap={}}return a.getInstance=function(){return this.instance||(this.instance=new a),this.instance},a.hasCallBack=function(n,t){var c,e;return!!a.getInstance()._callBackMap[n]&&(null!==(e=null===(c=a.getInstance()._callBackMap[n])||void 0===c?void 0:c.includes(t))&&void 0!==e&&e)},a.existEvent=function(n){var t;return!!a.getInstance()._callBackMap[n]&&!!(null===(t=a.getInstance()._callBackMap[n])||void 0===t?void 0:t.length)},a.addCallBack=function(n,t){var c;a.getInstance()._callBackMap[n]||(a.getInstance()._callBackMap[n]=[]),a.hasCallBack(n,t)||null===(c=a.getInstance()._callBackMap[n])||void 0===c||c.push(t)},a.setOnceEvent=function(n,t){a.addCallBack(n,(function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];null==t||t.apply(null,c),a.deleteEvent(n)}))},a.removeCallBack=function(n,t){var c;a.getInstance()._callBackMap[n]&&(a.getInstance()._callBackMap[n]=null===(c=a.getInstance()._callBackMap[n])||void 0===c?void 0:c.filter((function(a){return a!=t})),a.getInstance()._callBackMap[n].length||a.deleteEvent(n))},a.deleteEvent=function(n){a.getInstance()._callBackMap[n]&&Reflect.deleteProperty(a.getInstance()._callBackMap,n)},a.getCount=function(n){return n?a.getInstance()._callBackMap[n]?a.getInstance()._callBackMap[n].length:0:Object.keys(a.getInstance()._callBackMap).length},a.dispatch=function(n){for(var t=this,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];if(!a.getInstance()._callBackMap[n])throw new Error("未找到回调事件 ".concat(n," 的监听"));a.getInstance()._callBackMap[n].forEach((function(a){null==a||a.apply(t,c)}))},a}();export{a as XCall,a as default};
