"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function a(){this._callBackMap={}}return a.getInstance=function(){return this.instance||(this.instance=new a),this.instance},a.hasCallBack=function(n,t){var e,c;return!!a.getInstance()._callBackMap[n]&&(null!==(c=null===(e=a.getInstance()._callBackMap[n])||void 0===e?void 0:e.includes(t))&&void 0!==c&&c)},a.existEvent=function(n){var t;return!!a.getInstance()._callBackMap[n]&&!!(null===(t=a.getInstance()._callBackMap[n])||void 0===t?void 0:t.length)},a.addCallBack=function(n,t){var e;a.getInstance()._callBackMap[n]||(a.getInstance()._callBackMap[n]=[]),a.hasCallBack(n,t)||null===(e=a.getInstance()._callBackMap[n])||void 0===e||e.push(t)},a.setOnceEvent=function(n,t){a.addCallBack(n,(function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];null==t||t.apply(null,e),a.deleteEvent(n)}))},a.removeCallBack=function(n,t){var e;a.getInstance()._callBackMap[n]&&(a.getInstance()._callBackMap[n]=null===(e=a.getInstance()._callBackMap[n])||void 0===e?void 0:e.filter((function(a){return a!=t})),a.getInstance()._callBackMap[n].length||a.deleteEvent(n))},a.deleteEvent=function(n){a.getInstance()._callBackMap[n]&&Reflect.deleteProperty(a.getInstance()._callBackMap,n)},a.getCount=function(n){return n?a.getInstance()._callBackMap[n]?a.getInstance()._callBackMap[n].length:0:Object.keys(a.getInstance()._callBackMap).length},a.dispatch=function(n){for(var t=this,e=[],c=1;c<arguments.length;c++)e[c-1]=arguments[c];if(!a.getInstance()._callBackMap[n])throw new Error("未找到回调事件 ".concat(n," 的监听"));a.getInstance()._callBackMap[n].forEach((function(a){null==a||a.apply(t,e)}))},a}();exports.XCall=a,exports.default=a;
