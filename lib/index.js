"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function a(){this._callBackMap={}}return a.getInstance=function(){return this.instance||(this.instance=new a),this.instance},a.hasCallBack=function(n,c){var t,l;return!!a.getInstance()._callBackMap[n]&&(null!==(l=null===(t=a.getInstance()._callBackMap[n])||void 0===t?void 0:t.includes(c))&&void 0!==l&&l)},a.existEvent=function(n){var c;return!!a.getInstance()._callBackMap[n]&&!!(null===(c=a.getInstance()._callBackMap[n])||void 0===c?void 0:c.length)},a.addCallBack=function(n,c){var t;a.getInstance()._callBackMap[n]||(a.getInstance()._callBackMap[n]=[]),a.hasCallBack(n,c)||null===(t=a.getInstance()._callBackMap[n])||void 0===t||t.push(c)},a.setOnceCallBack=function(n,c){a.addCallBack(n,(function t(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];null==c||c.apply(null,l),a.removeCallBack(n,t)}))},a.removeCallBack=function(n,c){var t;a.getInstance()._callBackMap[n]&&(a.getInstance()._callBackMap[n]=null===(t=a.getInstance()._callBackMap[n])||void 0===t?void 0:t.filter((function(a){return a!=c})))},a.dispatch=function(n){for(var c=this,t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];if(!a.getInstance()._callBackMap[n])throw new Error("未找到回调事件 ".concat(n," 的监听"));a.getInstance()._callBackMap[n].forEach((function(a){null==a||a.apply(c,t)}))},a}();exports.XCall=a,exports.default=a;
