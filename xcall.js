!function(a,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((a="undefined"!=typeof globalThis?globalThis:a||self).xcall={})}(this,(function(a){"use strict";var n=function(){function a(){this._callBackMap={}}return a.getInstance=function(){return this.instance||(this.instance=new a),this.instance},a.hasCallBack=function(n,e){var t,l;return!!a.getInstance()._callBackMap[n]&&(null!==(l=null===(t=a.getInstance()._callBackMap[n])||void 0===t?void 0:t.includes(e))&&void 0!==l&&l)},a.existEvent=function(n){var e;return!!a.getInstance()._callBackMap[n]&&!!(null===(e=a.getInstance()._callBackMap[n])||void 0===e?void 0:e.length)},a.addCallBack=function(n,e){var t;a.getInstance()._callBackMap[n]||(a.getInstance()._callBackMap[n]=[]),a.hasCallBack(n,e)||null===(t=a.getInstance()._callBackMap[n])||void 0===t||t.push(e)},a.setOnceCallBack=function(n,e){a.addCallBack(n,(function t(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];null==e||e.apply(null,l),a.removeCallBack(n,t)}))},a.removeCallBack=function(n,e){var t;a.getInstance()._callBackMap[n]&&(a.getInstance()._callBackMap[n]=null===(t=a.getInstance()._callBackMap[n])||void 0===t?void 0:t.filter((function(a){return a!=e})))},a.dispatch=function(n){for(var e=this,t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];if(!a.getInstance()._callBackMap[n])throw new Error("未找到回调事件 ".concat(n," 的监听"));a.getInstance()._callBackMap[n].forEach((function(a){null==a||a.apply(e,t)}))},a}();a.XCall=n,a.default=n,Object.defineProperty(a,"__esModule",{value:!0})}));
